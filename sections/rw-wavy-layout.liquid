{%- assign parts = sec_id | split: '_' -%}
{%- assign last_lower = parts | last -%}
{%- assign last_part = last_lower | downcase -%}

<pc-svg-wave-{{ last_part }} class="pc-svg-wave">
  <div class="pc-svg-wave__container">
    <svg width="100%" height="100%" viewBox="0 0 1200 100" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
      <g class="pc-svg-wave__curve" fill="none">
        <path d="M 0, 60 S 300, -60, 600, 60, 800, -120, 1200 60" />
        <path d="M 0, 60 S 200, -60, 400, 60, 900, -120, 1200 60" />
        <path d="M 0, 60 S 200, -70, 400, 70, 800, -120, 1200 60" />
        <path d="M 0, 60 S 200, -60, 400, 80, 600, -120, 1200 60" />
      </g>
    </svg>
  </div>
</pc-svg-wave-{{ last_part }}>

<style>
  {{ sec_id }} .pc-svg-wave {
    width: 100%;
    background-color: {{ section.settings.background_color }};
    padding: {{ section.settings.desktop_padding_top }}px {{ section.settings.desktop_padding_right }}px {{ section.settings.desktop_padding_bottom }}px {{ section.settings.desktop_padding_left }}px;
    margin-bottom: {{ section.settings.desktop_margin_bottom }}px;
  }

  {{ sec_id }} .pc-svg-wave__container {
    width: 100%;
    height: {{ section.settings.wave_height }}px;
    overflow: hidden;
  }

  {{ sec_id }} .pc-svg-wave__curve {
    stroke-linecap: round;
    stroke-opacity: 0.7;
  }

  {{ sec_id }} .pc-svg-wave__curve path {
    transform-origin: center;
  }

  {{ sec_id }} .pc-svg-wave__curve path:nth-child(4n + 1) {
    stroke: {{ section.settings.wave_color_1 }};
  }

  {{ sec_id }} .pc-svg-wave__curve path:nth-child(4n + 2) {
    stroke: {{ section.settings.wave_color_2 }};
  }

  {{ sec_id }} .pc-svg-wave__curve path:nth-child(4n + 3) {
    stroke: {{ section.settings.wave_color_3 }};
  }

  {{ sec_id }} .pc-svg-wave__curve path:nth-child(4n + 4) {
    stroke: {{ section.settings.wave_color_4 }};
  }

  {{ sec_id }} .pc-svg-wave__curve path:nth-child(1) {
    stroke-width: {{ section.settings.wave_1_stroke_width }};
    {% if section.settings.enable_animation %}
      animation: pc-curve-animation-{{ last_part }} {{ section.settings.animation_duration }}s linear 1.4s infinite;
    {% endif %}
  }

  {{ sec_id }} .pc-svg-wave__curve path:nth-child(2) {
    stroke-width: {{ section.settings.wave_2_stroke_width }};
    {% if section.settings.enable_animation %}
      animation: pc-curve-animation-{{ last_part }} {{ section.settings.animation_duration }}s linear 2.8s infinite;
    {% endif %}
  }

  {{ sec_id }} .pc-svg-wave__curve path:nth-child(3) {
    stroke-width: {{ section.settings.wave_3_stroke_width }};
    {% if section.settings.enable_animation %}
      animation: pc-curve-animation-{{ last_part }} {{ section.settings.animation_duration }}s linear 4.2s infinite;
    {% endif %}
  }

  {{ sec_id }} .pc-svg-wave__curve path:nth-child(4) {
    stroke-width: {{ section.settings.wave_4_stroke_width }};
    {% if section.settings.enable_animation %}
      animation: pc-curve-animation-{{ last_part }} {{ section.settings.animation_duration }}s linear 5.6s infinite;
    {% endif %}
  }

  @keyframes pc-curve-animation-{{ last_part }} {
    0% {
      transform: rotateX(0deg) skewY(0deg);
      stroke-opacity: 0.7;
    }
    50% {
      transform: rotateX(360deg) skewY(8deg);
      stroke-opacity: 1;
    }
    100% {
      transform: rotateX(0deg) skewY(0deg);
      stroke-opacity: 0.7;
    }
  }

  @media (max-width: 768px) {
    {{ sec_id }} .pc-svg-wave {
      padding: {{ section.settings.mobile_padding_top }}px {{ section.settings.mobile_padding_right }}px {{ section.settings.mobile_padding_bottom }}px {{ section.settings.mobile_padding_left }}px;
      margin-bottom: {{ section.settings.mobile_margin_bottom }}px;
    }

    {{ sec_id }} .pc-svg-wave__container {
      height: {{ section.settings.mobile_wave_height }}px;
    }
  }
</style>

{% schema %}
{
  "name": "PWC - Wave Animation #1",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "header",
      "content": "Wave Settings"
    },
    {
      "type": "range",
      "id": "wave_height",
      "label": "Wave Height (Desktop)",
      "min": 50,
      "max": 500,
      "step": 10,
      "unit": "px",
      "default": 300
    },
    {
      "type": "header",
      "content": "Color Settings"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "wave_color_1",
      "label": "Wave Color 1",
      "default": "#3379B7"
    },
    {
      "type": "color",
      "id": "wave_color_2",
      "label": "Wave Color 2",
      "default": "#1B3F5F"
    },
    {
      "type": "color",
      "id": "wave_color_3",
      "label": "Wave Color 3",
      "default": "#67A1D5"
    },
    {
      "type": "color",
      "id": "wave_color_4",
      "label": "Wave Color 4",
      "default": "#BFE2FF"
    },
    {
      "type": "header",
      "content": "Stroke Settings"
    },
    {
      "type": "range",
      "id": "wave_1_stroke_width",
      "label": "Wave 1 Stroke Width",
      "min": 1,
      "max": 50,
      "step": 1,
      "unit": "px",
      "default": 24
    },
    {
      "type": "range",
      "id": "wave_2_stroke_width",
      "label": "Wave 2 Stroke Width",
      "min": 1,
      "max": 50,
      "step": 1,
      "unit": "px",
      "default": 21
    },
    {
      "type": "range",
      "id": "wave_3_stroke_width",
      "label": "Wave 3 Stroke Width",
      "min": 1,
      "max": 50,
      "step": 1,
      "unit": "px",
      "default": 48
    },
    {
      "type": "range",
      "id": "wave_4_stroke_width",
      "label": "Wave 4 Stroke Width",
      "min": 1,
      "max": 50,
      "step": 1,
      "unit": "px",
      "default": 41
    },
    {
      "type": "header",
      "content": "Animation Settings"
    },
    {
      "type": "checkbox",
      "id": "enable_animation",
      "label": "Enable Animation",
      "default": true
    },
    {
      "type": "range",
      "id": "animation_duration",
      "label": "Animation Duration",
      "min": 5,
      "max": 60,
      "step": 5,
      "unit": "s",
      "default": 35
    },
    {
      "type": "header",
      "content": "Spacing (Desktop)"
    },
    {
      "type": "range",
      "id": "desktop_padding_top",
      "label": "Top Padding",
      "min": 0,
      "max": 200,
      "step": 10,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "desktop_padding_right",
      "label": "Right Padding",
      "min": 0,
      "max": 200,
      "step": 10,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "desktop_padding_bottom",
      "label": "Bottom Padding",
      "min": 0,
      "max": 200,
      "step": 10,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "desktop_padding_left",
      "label": "Left Padding",
      "min": 0,
      "max": 200,
      "step": 10,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "desktop_margin_bottom",
      "label": "Bottom Margin",
      "min": 0,
      "max": 200,
      "step": 10,
      "unit": "px",
      "default": 0
    },
    {
      "type": "header",
      "content": "Mobile Settings"
    },
    {
      "type": "range",
      "id": "mobile_wave_height",
      "label": "Wave Height (Mobile)",
      "min": 30,
      "max": 300,
      "step": 10,
      "unit": "px",
      "default": 150
    },
    {
      "type": "range",
      "id": "mobile_padding_top",
      "label": "Top Padding",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "mobile_padding_right",
      "label": "Right Padding",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "mobile_padding_bottom",
      "label": "Bottom Padding",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "mobile_padding_left",
      "label": "Left Padding",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 0
    },
    {
      "type": "range",
      "id": "mobile_margin_bottom",
      "label": "Bottom Margin",
      "min": 0,
      "max": 100,
      "step": 5,
      "unit": "px",
      "default": 0
    }
  ],
  "presets": [
    {
      "name": "PWC - Wave Animation #1",
      "category": "Custom"
    }
  ]
}
{% endschema %}