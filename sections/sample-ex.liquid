{%- style -%}
  #contact-{{ section.id }} {
    background: #FFFFFF;
    padding: 6rem 2rem;
    display: flex;
    justify-content: center;
  }

  .contact-box-{{ section.id }} {
    max-width: {{ section.settings.max_width }}px;
    background: #FFFFFF;
    padding: 3rem;
    border-radius: 16px;
    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.5);
    text-align: center;
  }

  .contact-box-{{ section.id }} h2 {
    font-size: 2.5rem;
    color: #111;
    margin-bottom: 1rem;
    position: relative;
    text-transform: uppercase;
    letter-spacing: 3px;
  }

  .contact-box-{{ section.id }} h2::after {
    content: "";
    display: block;
    width: 60px;
    height: 4px;
    background: {{ section.settings.accent_color }};
    margin: 1rem auto 1.5rem;
    border-radius: 2px;
  }

  .contact-lead-{{ section.id }} {
    font-size: 1.2rem;
    font-weight: bold;
    color: #ccc;
    margin-bottom: 0.5rem;
  }

  .contact-box-{{ section.id }} p {
    color: #aaa;
    font-size: 1rem;
    margin-bottom: 2rem;
  }

  .contact-form-{{ section.id }} {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  .form-item-{{ section.id }} {
    position: relative;
  }

  .form-item-{{ section.id }} input,
  .form-item-{{ section.id }} textarea {
    width: 100%;
    padding: 10px 6px;
    border: none;
    border-bottom: 2px solid black;
    background: transparent;
    font-size: 16px;
    outline: none;
    resize: none;
  }

  .form-item-{{ section.id }} label {
    position: absolute;
    left: 6px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 16px;
    color: grey;
    pointer-events: none;
    transition: all 0.3s ease;
  }

  .form-item-{{ section.id }}:has(textarea) label {
    top: 75%;
  }

  .form-item-{{ section.id }} input:focus + label,
  .form-item-{{ section.id }} textarea:focus + label,
  .form-item-{{ section.id }} input:not(:placeholder-shown) + label,
  .form-item-{{ section.id }} textarea:not(:placeholder-shown) + label {
    top: -10px;
    font-size: 12px;
    color: black;
  }

  .form-button-{{ section.id }} {
    background-color: black;
    color: white;
    border: none;
    padding: 12px 0;
    border-radius: 20px;
    font-size: 1rem;
    cursor: pointer;
    transition: background 0.3s;
  }

  .form-button-{{ section.id }}:hover {
    background-color: {{ section.settings.accent_color }};
    color: white;
  }

  .form-button-{{ section.id }}:active {
    background-color: #3270D3;
  }
{%- endstyle -%}

<section id="contact-{{ section.id }}">
  <div class="contact-box-{{ section.id }}">
    <h2>{{ section.settings.heading }}</h2>
    <p class="contact-lead-{{ section.id }}">{{ section.settings.subheading }}</p>
    <p>{{ section.settings.description }}</p>
    
    {% form 'contact', id: 'contactForm' %}
      {% if form.posted_successfully? %}
        <p class="form-success">{{ 'contact.form.post_success' | t }}</p>
      {% endif %}
      
      {{ form.errors | default_errors }}
      
      <div class="contact-form-{{ section.id }}">
        <div class="form-item-{{ section.id }}">
          <input type="text" 
                 id="contact-name" 
                 name="contact[name]" 
                 required>
          <label for="contact-name">{{ 'contact.form.name' | t }}</label>
        </div>
        
        <div class="form-item-{{ section.id }}">
          <input type="email" 
                 id="contact-email" 
                 name="contact[email]" 
                 required>
          <label for="contact-email">{{ 'contact.form.email' | t }}</label>
        </div>
        
        <div class="form-item-{{ section.id }}">
          <input type="text" 
                 id="contact-subject" 
                 name="contact[subject]" 
                 required>
          <label for="contact-subject">{{ 'contact.form.subject' | t }}</label>
        </div>
        
        <div class="form-item-{{ section.id }}">
          <textarea id="contact-message" 
                    name="contact[body]" 
                    rows="4" 
                    required></textarea>
          <label for="contact-message">{{ 'contact.form.message' | t }}</label>
        </div>
        
        <button type="submit" class="form-button-{{ section.id }}">
          {{ section.settings.button_text }}
        </button>
      </div>
    {% endform %}
  </div>
</section>

{% schema %}
{
  "name": "Custom Contact Form",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Contact"
    },
    {
      "type": "text",
      "id": "subheading",
      "label": "Subheading",
      "default": "Interested in a joint project?"
    },
    {
      "type": "text",
      "id": "description",
      "label": "Description",
      "default": "Write to me directly or call me â€“ I look forward to exciting ideas!"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text",
      "default": "Send Message"
    },
    {
      "type": "range",
      "id": "max_width",
      "min": 500,
      "max": 1200,
      "step": 50,
      "unit": "px",
      "label": "Form Max Width",
      "default": 700
    },
    {
      "type": "color",
      "id": "accent_color",
      "label": "Accent Color",
      "default": "#3b82f6"
    }
  ],
  "presets": [
    {
      "name": "Custom Contact Form",
      "category": "Contact"
    }
  ]
}
{% endschema %}